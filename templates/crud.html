{% extends 'base.html' %}
{% block content %}

<main role="main">
    <div class="jumbotron my-1">
        <div class="container-fluid">
            <h4 class="text-center alert alert-danger">Function Based View ModelForm CRUD Project</h4>
            <div class="row">


                <div class="col-sm-3">
                    <h5 class="text-center alert alert-info">Add New Student</h5>
                    <form action="" method="POST">
                        {% csrf_token %}

                        {{ form.as_p }}
                        <input type="submit" class="btn btn-success" value="Add">
                    </form>
                </div>


                <div class="col-sm-8 offset-1">
                    <h5 class="text-center alert alert-info">Show All Student Information</h5>
                    {% if showalldata %}
                    <table class="table text-center">
                        <thead class="thead-dark">
                            <tr>
                                <th scope="col">ID</th>
                                <th scope="col">Name</th>
                                <th scope="col">Email</th>
                                <th scope="col">Mobile</th>
                                <th scope="col">Password</th>
                                <th scope="col">Action</th>
                            </tr>
                        </thead>

                        <tbody>
                            {% for i in showalldata %}
                            <tr>
                                <th scope="row">{{ i.id }}</th>
                                <td>{{ i.name }}</td>
                                <td>{{ i.email }}</td>
                                <td>{{ i.mobile }}</td>
                                <td>{{ i.password }}</td>

                                <td>
                                    <a href="{% url 'update_data' i.id %}" class="btn btn-warning btn-sm">EDIT</a>
                                    <form action="{% url 'delete_data' i.id %}" method="post" class="d-inline">
                                        {% csrf_token %}
                                        <input type="submit" class="btn btn-danger btn-sm" value="DELETE">
                                        </form>
                                </td>

                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>

                    {% else %}
                    <h4 class="text-center alert alert-warning">No Records</h4>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</main>

{% endblock content %}